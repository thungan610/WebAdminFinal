{"ast":null,"code":"var _jsxFileName = \"D:\\\\WebAdminFinal\\\\src\\\\Screen\\\\PromotionManagement.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport \"./PromotionManagement.css\";\nimport edit from \"../assets/images/insert.png\";\nimport deleteimg from \"../assets/images/delete.png\";\nimport { useNavigate } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PromotionManagementment = () => {\n  _s();\n  const [data, setData] = useState([]);\n  const [isLoading, setIsLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const navigate = useNavigate();\n  useEffect(() => {\n    const fetchPromotions = async () => {\n      try {\n        const response = await axios.get(\"http://localhost:6677/sale/getSale\");\n        if (Array.isArray(response.data.data)) {\n          setData(response.data.data);\n        } else {\n          throw new Error(\"Dữ liệu từ API không hợp lệ\");\n        }\n        setIsLoading(false);\n      } catch (err) {\n        console.error(\"Error fetching promotions:\", err);\n        setError(\"Không thể tải dữ liệu từ API.\");\n        setIsLoading(false);\n      }\n    };\n    fetchPromotions();\n  }, []);\n\n  // Hàm xử lý xóa\n  const handleDelete = async id => {\n    try {\n      await axios.delete(`http://localhost:6677/sale/${id}/deleteSale`);\n      setData(data.filter(item => item._id !== id));\n      console.log(\"Khuyến mãi đã được xóa\");\n    } catch (err) {\n      console.error(\"Lỗi khi xóa khuyến mãi:\", err);\n      alert(\"Xóa khuyến mãi không thành công.\");\n    }\n  };\n\n  //   // Hàm xử lý thêm mới\n  //   const handleAdd = async () => {\n  //     const newPromotion = {\n  //       title: \"New Year Sale\",\n  //       discountAmount: 15000,\n  //       discountPercent: 25,\n  //       minOrderValue: 100000,\n  //       expirationDate: \"2025-01-31T23:59:59.000Z\",\n  //     };\n\n  //     try {\n  //       const response = await axios.post(\n  //         \"http://localhost:6677/sale/addSale\",\n  //         newPromotion\n  //       );\n  //       if (response.data) {\n  //         setData([...data, response.data.data]);\n  //         console.log(\"Khuyến mãi mới đã được thêm\");\n  //       } else {\n  //         throw new Error(\"Phản hồi API không hợp lệ\");\n  //       }\n  //     } catch (err) {\n  //       console.error(\"Error adding promotion:\", err);\n  //       alert(\"Thêm khuyến mãi không thành công.\");\n  //     }\n  //   };\n\n  if (isLoading) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: \"\\u0110ang t\\u1EA3i d\\u1EEF li\\u1EC7u...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 25\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"p\", {\n    children: error\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 74,\n    columnNumber: 21\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"appnene\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"button-container\",\n      children: /*#__PURE__*/_jsxDEV(\"a\", {\n        className: \"add-button\",\n        onClick: () => navigate(\"/AddSale\"),\n        children: \"Th\\xEAm m\\u1EDBi\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 79,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 5\n  }, this);\n};\n_s(PromotionManagementment, \"vJxF3vzQSxDv3ReZvbgi1Q5rNPM=\", false, function () {\n  return [useNavigate];\n});\n_c = PromotionManagementment;\nexport default PromotionManagementment;\nvar _c;\n$RefreshReg$(_c, \"PromotionManagementment\");","map":{"version":3,"names":["React","useEffect","useState","axios","edit","deleteimg","useNavigate","jsxDEV","_jsxDEV","PromotionManagementment","_s","data","setData","isLoading","setIsLoading","error","setError","navigate","fetchPromotions","response","get","Array","isArray","Error","err","console","handleDelete","id","delete","filter","item","_id","log","alert","children","fileName","_jsxFileName","lineNumber","columnNumber","className","onClick","_c","$RefreshReg$"],"sources":["D:/WebAdminFinal/src/Screen/PromotionManagement.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport \"./PromotionManagement.css\";\r\nimport edit from \"../assets/images/insert.png\";\r\nimport deleteimg from \"../assets/images/delete.png\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nconst PromotionManagementment = () => {\r\n  const [data, setData] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    const fetchPromotions = async () => {\r\n      try {\r\n        const response = await axios.get(\"http://localhost:6677/sale/getSale\");\r\n        if (Array.isArray(response.data.data)) {\r\n          setData(response.data.data);\r\n        } else {\r\n          throw new Error(\"Dữ liệu từ API không hợp lệ\");\r\n        }\r\n        setIsLoading(false);\r\n      } catch (err) {\r\n        console.error(\"Error fetching promotions:\", err);\r\n        setError(\"Không thể tải dữ liệu từ API.\");\r\n        setIsLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchPromotions();\r\n  }, []);\r\n\r\n  // Hàm xử lý xóa\r\n  const handleDelete = async (id) => {\r\n    try {\r\n      await axios.delete(`http://localhost:6677/sale/${id}/deleteSale`);\r\n      setData(data.filter((item) => item._id !== id));\r\n      console.log(\"Khuyến mãi đã được xóa\");\r\n    } catch (err) {\r\n      console.error(\"Lỗi khi xóa khuyến mãi:\", err);\r\n      alert(\"Xóa khuyến mãi không thành công.\");\r\n    }\r\n  };\r\n\r\n  //   // Hàm xử lý thêm mới\r\n  //   const handleAdd = async () => {\r\n  //     const newPromotion = {\r\n  //       title: \"New Year Sale\",\r\n  //       discountAmount: 15000,\r\n  //       discountPercent: 25,\r\n  //       minOrderValue: 100000,\r\n  //       expirationDate: \"2025-01-31T23:59:59.000Z\",\r\n  //     };\r\n\r\n  //     try {\r\n  //       const response = await axios.post(\r\n  //         \"http://localhost:6677/sale/addSale\",\r\n  //         newPromotion\r\n  //       );\r\n  //       if (response.data) {\r\n  //         setData([...data, response.data.data]);\r\n  //         console.log(\"Khuyến mãi mới đã được thêm\");\r\n  //       } else {\r\n  //         throw new Error(\"Phản hồi API không hợp lệ\");\r\n  //       }\r\n  //     } catch (err) {\r\n  //       console.error(\"Error adding promotion:\", err);\r\n  //       alert(\"Thêm khuyến mãi không thành công.\");\r\n  //     }\r\n  //   };\r\n\r\n  if (isLoading) return <p>Đang tải dữ liệu...</p>;\r\n  if (error) return <p>{error}</p>;\r\n\r\n  return (\r\n    <div className=\"appnene\">\r\n      <div className=\"button-container\">\r\n        <a className=\"add-button\" onClick={() => navigate(\"/AddSale\")}>\r\n          Thêm mới\r\n        </a>\r\n      </div>\r\n      <div>\r\n\r\n      </div>\r\n     \r\n    </div>\r\n  );\r\n};\r\n\r\nexport default PromotionManagementment;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAO,2BAA2B;AAClC,OAAOC,IAAI,MAAM,6BAA6B;AAC9C,OAAOC,SAAS,MAAM,6BAA6B;AACnD,SAASC,WAAW,QAAQ,kBAAkB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE/C,MAAMC,uBAAuB,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACpC,MAAM,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;EACpC,MAAM,CAACW,SAAS,EAAEC,YAAY,CAAC,GAAGZ,QAAQ,CAAC,IAAI,CAAC;EAChD,MAAM,CAACa,KAAK,EAAEC,QAAQ,CAAC,GAAGd,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAMe,QAAQ,GAAGX,WAAW,CAAC,CAAC;EAE9BL,SAAS,CAAC,MAAM;IACd,MAAMiB,eAAe,GAAG,MAAAA,CAAA,KAAY;MAClC,IAAI;QACF,MAAMC,QAAQ,GAAG,MAAMhB,KAAK,CAACiB,GAAG,CAAC,oCAAoC,CAAC;QACtE,IAAIC,KAAK,CAACC,OAAO,CAACH,QAAQ,CAACR,IAAI,CAACA,IAAI,CAAC,EAAE;UACrCC,OAAO,CAACO,QAAQ,CAACR,IAAI,CAACA,IAAI,CAAC;QAC7B,CAAC,MAAM;UACL,MAAM,IAAIY,KAAK,CAAC,6BAA6B,CAAC;QAChD;QACAT,YAAY,CAAC,KAAK,CAAC;MACrB,CAAC,CAAC,OAAOU,GAAG,EAAE;QACZC,OAAO,CAACV,KAAK,CAAC,4BAA4B,EAAES,GAAG,CAAC;QAChDR,QAAQ,CAAC,+BAA+B,CAAC;QACzCF,YAAY,CAAC,KAAK,CAAC;MACrB;IACF,CAAC;IAEDI,eAAe,CAAC,CAAC;EACnB,CAAC,EAAE,EAAE,CAAC;;EAEN;EACA,MAAMQ,YAAY,GAAG,MAAOC,EAAE,IAAK;IACjC,IAAI;MACF,MAAMxB,KAAK,CAACyB,MAAM,CAAC,8BAA8BD,EAAE,aAAa,CAAC;MACjEf,OAAO,CAACD,IAAI,CAACkB,MAAM,CAAEC,IAAI,IAAKA,IAAI,CAACC,GAAG,KAAKJ,EAAE,CAAC,CAAC;MAC/CF,OAAO,CAACO,GAAG,CAAC,wBAAwB,CAAC;IACvC,CAAC,CAAC,OAAOR,GAAG,EAAE;MACZC,OAAO,CAACV,KAAK,CAAC,yBAAyB,EAAES,GAAG,CAAC;MAC7CS,KAAK,CAAC,kCAAkC,CAAC;IAC3C;EACF,CAAC;;EAED;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;EACA;;EAEA,IAAIpB,SAAS,EAAE,oBAAOL,OAAA;IAAA0B,QAAA,EAAG;EAAmB;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAG,CAAC;EAChD,IAAIvB,KAAK,EAAE,oBAAOP,OAAA;IAAA0B,QAAA,EAAInB;EAAK;IAAAoB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAI,CAAC;EAEhC,oBACE9B,OAAA;IAAK+B,SAAS,EAAC,SAAS;IAAAL,QAAA,gBACtB1B,OAAA;MAAK+B,SAAS,EAAC,kBAAkB;MAAAL,QAAA,eAC/B1B,OAAA;QAAG+B,SAAS,EAAC,YAAY;QAACC,OAAO,EAAEA,CAAA,KAAMvB,QAAQ,CAAC,UAAU,CAAE;QAAAiB,QAAA,EAAC;MAE/D;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACD,CAAC,eACN9B,OAAA;MAAA2B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAEK,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAEH,CAAC;AAEV,CAAC;AAAC5B,EAAA,CAjFID,uBAAuB;EAAA,QAIVH,WAAW;AAAA;AAAAmC,EAAA,GAJxBhC,uBAAuB;AAmF7B,eAAeA,uBAAuB;AAAC,IAAAgC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}