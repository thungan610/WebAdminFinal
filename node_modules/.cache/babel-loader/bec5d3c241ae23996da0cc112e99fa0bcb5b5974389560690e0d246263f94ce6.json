{"ast":null,"code":"var _jsxFileName = \"D:\\\\WebAdminFinal\\\\src\\\\Screen\\\\Charts.js\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from \"react\";\nimport { Chart, CategoryScale, LinearScale, PieController, BarController,\n// Thêm BarController vào đây\nArcElement, Title, Tooltip, Legend } from \"chart.js\";\nimport ChartDataLabels from \"chartjs-plugin-datalabels\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst TopProductsChart = () => {\n  _s();\n  const getStartOfWeek = () => {\n    const today = new Date();\n    const dayOfWeek = today.getDay(); // 0 (Chủ nhật) đến 6 (Thứ bảy)\n    const startOfWeek = new Date(today);\n    startOfWeek.setDate(today.getDate() - (dayOfWeek === 0 ? 6 : dayOfWeek - 1)); // Nếu Chủ nhật, lấy thứ Hai trước đó\n    return startOfWeek.toISOString().split(\"T\")[0]; // Trả về dạng 'YYYY-MM-DD'\n  };\n  const [selectedDate, setSelectedDate] = useState(getStartOfWeek());\n  const [chartInstance, setChartInstance] = useState(null);\n  const [dateRange, setDateRange] = useState(\"\");\n  const [labels, setLabels] = useState([]);\n  const [data, setData] = useState([]);\n  const calculateDateRange = startDate => {\n    const start = new Date(startDate);\n    const end = new Date(start);\n    end.setDate(start.getDate() + 6);\n    const formatDate = date => `${date.getDate().toString().padStart(2, \"0\")}/${(date.getMonth() + 1).toString().padStart(2, \"0\")}/${date.getFullYear()}`;\n    return `${formatDate(start)} - ${formatDate(end)}`;\n  };\n  useEffect(() => {\n    Chart.register(CategoryScale, LinearScale, PieController, BarController,\n    // Thêm BarController để hỗ trợ biểu đồ cột\n    ArcElement, Title, Tooltip, Legend, ChartDataLabels // Đăng ký plugin\n    );\n    const fetchData = async () => {\n      try {\n        const query = `?date=${selectedDate}`;\n        const res = await fetch(`http://localhost:6677/products/getTop10PW${query}`);\n        const result = await res.json();\n        const fetchedLabels = [];\n        const fetchedData = [];\n        result.data.forEach(element => {\n          fetchedLabels.push(element.name);\n          fetchedData.push(Number(element.sold));\n        });\n        setLabels(fetchedLabels);\n        setData(fetchedData);\n        setDateRange(calculateDateRange(selectedDate));\n\n        // If chart instance already exists, update it instead of creating new one\n        if (chartInstance) {\n          chartInstance.data.labels = fetchedLabels.map((label, index) => `${label} (${fetchedData[index]})`);\n          chartInstance.data.datasets[0].data = fetchedData;\n          chartInstance.update(); // Update chart without recreating\n        } else {\n          const ctx = document.getElementById(\"myChart\").getContext(\"2d\");\n          const newChart = new Chart(ctx, {\n            type: \"pie\",\n            // Start with Pie chart\n            data: {\n              labels: fetchedLabels.map((label, index) => `${label} (${fetchedData[index]})`),\n              datasets: [{\n                label: \"Lượt bán\",\n                data: fetchedData,\n                backgroundColor: [\"rgba(255, 99, 132, 0.8)\", \"rgba(54, 162, 235, 0.8)\", \"rgba(75, 192, 192, 0.8)\", \"rgba(255, 206, 86, 0.8)\", \"rgba(153, 102, 255, 0.8)\", \"rgba(255, 159, 64, 0.8)\", \"rgba(201, 203, 207, 0.8)\", \"rgba(90, 203, 207, 0.8)\"],\n                borderColor: [\"rgba(255, 99, 132, 1)\", \"rgba(54, 162, 235, 1)\", \"rgba(75, 192, 192, 1)\", \"rgba(255, 206, 86, 1)\", \"rgba(153, 102, 255, 1)\", \"rgba(255, 159, 64, 1)\", \"rgba(201, 203, 207, 1)\", \"rgba(90, 203, 207, 1)\"],\n                borderWidth: 1\n              }]\n            },\n            options: {\n              responsive: false,\n              // Tắt responsive để kiểm soát kích thước canvas\n              maintainAspectRatio: true,\n              aspectRatio: 1,\n              // Tỷ lệ cố định cho pie chart\n              plugins: {\n                legend: {\n                  position: \"right\",\n                  labels: {\n                    generateLabels: chart => chart.data.labels.map((label, index) => ({\n                      text: `${label}`,\n                      fillStyle: chart.data.datasets[0].backgroundColor[index]\n                    }))\n                  }\n                },\n                datalabels: {\n                  color: \"#fff\",\n                  font: {\n                    size: 12,\n                    weight: \"bold\"\n                  },\n                  formatter: value => `${value}` // Hiển thị số lượng trực tiếp trên biểu đồ\n                }\n              }\n            }\n          });\n          setChartInstance(newChart);\n        }\n      } catch (error) {\n        console.error(\"Error fetching or displaying data:\", error);\n      }\n    };\n    fetchData();\n  }, [selectedDate, chartInstance]);\n  const handleChartChange = type => {\n    if (chartInstance) {\n      chartInstance.destroy(); // Hủy biểu đồ cũ\n      const ctx = document.getElementById(\"myChart\").getContext(\"2d\");\n      const newChart = new Chart(ctx, {\n        type: type,\n        // Đổi loại biểu đồ (pie hoặc bar)\n        data: {\n          labels: labels.map((label, index) => `${label} (${data[index]})`),\n          datasets: [{\n            label: \"Lượt bán\",\n            data: data,\n            backgroundColor: [\"rgba(255, 99, 132, 0.8)\", \"rgba(54, 162, 235, 0.8)\", \"rgba(75, 192, 192, 0.8)\", \"rgba(255, 206, 86, 0.8)\", \"rgba(153, 102, 255, 0.8)\", \"rgba(255, 159, 64, 0.8)\", \"rgba(201, 203, 207, 0.8)\", \"rgba(90, 203, 207, 0.8)\"],\n            borderColor: [\"rgba(255, 99, 132, 1)\", \"rgba(54, 162, 235, 1)\", \"rgba(75, 192, 192, 1)\", \"rgba(255, 206, 86, 1)\", \"rgba(153, 102, 255, 1)\", \"rgba(255, 159, 64, 1)\", \"rgba(201, 203, 207, 1)\", \"rgba(90, 203, 207, 1)\"],\n            borderWidth: 1\n          }]\n        },\n        options: {\n          responsive: false,\n          // Tắt responsive\n          maintainAspectRatio: true,\n          aspectRatio: 1,\n          // Tỷ lệ cố định\n          plugins: {\n            legend: {\n              position: \"right\",\n              labels: {\n                generateLabels: chart => chart.data.labels.map((label, index) => ({\n                  text: `${label}`,\n                  fillStyle: chart.data.datasets[0].backgroundColor[index]\n                }))\n              }\n            },\n            datalabels: {\n              color: \"#fff\",\n              font: {\n                size: 12,\n                weight: \"bold\"\n              },\n              formatter: value => `${value}`\n            }\n          }\n        }\n      });\n      setChartInstance(newChart);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: 5,\n      marginBottom: \"20px\",\n      display: \"flex\",\n      flexDirection: \"column\",\n      alignItems: \"center\"\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        alignItems: \"center\",\n        width: \"100%\",\n        maxWidth: \"1000px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        style: {\n          paddingLeft: \"120px\",\n          color: \"#27AAE1\",\n          fontSize: \"24px\",\n          fontWeight: \"bold\",\n          textAlign: \"center\",\n          textTransform: \"uppercase\",\n          flex: 1\n        },\n        children: \"S\\u1EA3n ph\\u1EA9m b\\xE1n ch\\u1EA1y trong \\u1EE9ng d\\u1EE5ng\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 241,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          justifyContent: \"center\"\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"date\",\n          value: selectedDate,\n          onChange: e => setSelectedDate(e.target.value),\n          style: {\n            fontSize: \"16px\",\n            marginRight: \"10px\",\n            padding: \"5px\"\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 256,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleChartChange(\"pie\"),\n          style: {\n            fontSize: \"16px\",\n            padding: \"5px 10px\"\n          },\n          children: \"Pie Chart\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 266,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleChartChange(\"bar\"),\n          style: {\n            fontSize: \"16px\",\n            padding: \"5px 10px\"\n          },\n          children: \"Bar Chart\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 272,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 255,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 232,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        textAlign: \"center\",\n        fontSize: \"18px\",\n        fontWeight: \"bold\",\n        margin: \"10px 0\"\n      },\n      children: dateRange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 281,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"canvas\", {\n      id: \"myChart\",\n      width: \"400\",\n      height: \"400\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 223,\n    columnNumber: 5\n  }, this);\n};\n_s(TopProductsChart, \"yK8BE+6UOFujAXGSYTmc3IlWGJ0=\");\n_c = TopProductsChart;\nexport default TopProductsChart;\nvar _c;\n$RefreshReg$(_c, \"TopProductsChart\");","map":{"version":3,"names":["React","useEffect","useState","Chart","CategoryScale","LinearScale","PieController","BarController","ArcElement","Title","Tooltip","Legend","ChartDataLabels","jsxDEV","_jsxDEV","TopProductsChart","_s","getStartOfWeek","today","Date","dayOfWeek","getDay","startOfWeek","setDate","getDate","toISOString","split","selectedDate","setSelectedDate","chartInstance","setChartInstance","dateRange","setDateRange","labels","setLabels","data","setData","calculateDateRange","startDate","start","end","formatDate","date","toString","padStart","getMonth","getFullYear","register","fetchData","query","res","fetch","result","json","fetchedLabels","fetchedData","forEach","element","push","name","Number","sold","map","label","index","datasets","update","ctx","document","getElementById","getContext","newChart","type","backgroundColor","borderColor","borderWidth","options","responsive","maintainAspectRatio","aspectRatio","plugins","legend","position","generateLabels","chart","text","fillStyle","datalabels","color","font","size","weight","formatter","value","error","console","handleChartChange","destroy","style","padding","marginBottom","display","flexDirection","alignItems","children","justifyContent","width","maxWidth","paddingLeft","fontSize","fontWeight","textAlign","textTransform","flex","fileName","_jsxFileName","lineNumber","columnNumber","onChange","e","target","marginRight","onClick","margin","id","height","_c","$RefreshReg$"],"sources":["D:/WebAdminFinal/src/Screen/Charts.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport {\r\n  Chart,\r\n  CategoryScale,\r\n  LinearScale,\r\n  PieController,\r\n  BarController,  // Thêm BarController vào đây\r\n  ArcElement,\r\n  Title,\r\n  Tooltip,\r\n  Legend,\r\n} from \"chart.js\";\r\nimport ChartDataLabels from \"chartjs-plugin-datalabels\";\r\n\r\nconst TopProductsChart = () => {\r\n  const getStartOfWeek = () => {\r\n    const today = new Date();\r\n    const dayOfWeek = today.getDay(); // 0 (Chủ nhật) đến 6 (Thứ bảy)\r\n    const startOfWeek = new Date(today);\r\n    startOfWeek.setDate(\r\n      today.getDate() - (dayOfWeek === 0 ? 6 : dayOfWeek - 1)\r\n    ); // Nếu Chủ nhật, lấy thứ Hai trước đó\r\n    return startOfWeek.toISOString().split(\"T\")[0]; // Trả về dạng 'YYYY-MM-DD'\r\n  };\r\n\r\n  const [selectedDate, setSelectedDate] = useState(getStartOfWeek());\r\n  const [chartInstance, setChartInstance] = useState(null);\r\n  const [dateRange, setDateRange] = useState(\"\");\r\n  const [labels, setLabels] = useState([]);\r\n  const [data, setData] = useState([]);\r\n\r\n  const calculateDateRange = (startDate) => {\r\n    const start = new Date(startDate);\r\n    const end = new Date(start);\r\n    end.setDate(start.getDate() + 6);\r\n\r\n    const formatDate = (date) =>\r\n      `${date.getDate().toString().padStart(2, \"0\")}/${(date.getMonth() + 1)\r\n        .toString()\r\n        .padStart(2, \"0\")}/${date.getFullYear()}`;\r\n\r\n    return `${formatDate(start)} - ${formatDate(end)}`;\r\n  };\r\n\r\n  useEffect(() => {\r\n    Chart.register(\r\n      CategoryScale,\r\n      LinearScale,\r\n      PieController,\r\n      BarController,  // Thêm BarController để hỗ trợ biểu đồ cột\r\n      ArcElement,\r\n      Title,\r\n      Tooltip,\r\n      Legend,\r\n      ChartDataLabels // Đăng ký plugin\r\n    );\r\n\r\n    const fetchData = async () => {\r\n      try {\r\n        const query = `?date=${selectedDate}`;\r\n        const res = await fetch(\r\n          `http://localhost:6677/products/getTop10PW${query}`\r\n        );\r\n        const result = await res.json();\r\n\r\n        const fetchedLabels = [];\r\n        const fetchedData = [];\r\n        result.data.forEach((element) => {\r\n          fetchedLabels.push(element.name);\r\n          fetchedData.push(Number(element.sold));\r\n        });\r\n\r\n        setLabels(fetchedLabels);\r\n        setData(fetchedData);\r\n        setDateRange(calculateDateRange(selectedDate));\r\n\r\n        // If chart instance already exists, update it instead of creating new one\r\n        if (chartInstance) {\r\n          chartInstance.data.labels = fetchedLabels.map((label, index) => `${label} (${fetchedData[index]})`);\r\n          chartInstance.data.datasets[0].data = fetchedData;\r\n          chartInstance.update(); // Update chart without recreating\r\n        } else {\r\n          const ctx = document.getElementById(\"myChart\").getContext(\"2d\");\r\n\r\n          const newChart = new Chart(ctx, {\r\n            type: \"pie\", // Start with Pie chart\r\n            data: {\r\n              labels: fetchedLabels.map((label, index) => `${label} (${fetchedData[index]})`),\r\n              datasets: [\r\n                {\r\n                  label: \"Lượt bán\",\r\n                  data: fetchedData,\r\n                  backgroundColor: [\r\n                    \"rgba(255, 99, 132, 0.8)\",\r\n                    \"rgba(54, 162, 235, 0.8)\",\r\n                    \"rgba(75, 192, 192, 0.8)\",\r\n                    \"rgba(255, 206, 86, 0.8)\",\r\n                    \"rgba(153, 102, 255, 0.8)\",\r\n                    \"rgba(255, 159, 64, 0.8)\",\r\n                    \"rgba(201, 203, 207, 0.8)\",\r\n                    \"rgba(90, 203, 207, 0.8)\",\r\n                  ],\r\n                  borderColor: [\r\n                    \"rgba(255, 99, 132, 1)\",\r\n                    \"rgba(54, 162, 235, 1)\",\r\n                    \"rgba(75, 192, 192, 1)\",\r\n                    \"rgba(255, 206, 86, 1)\",\r\n                    \"rgba(153, 102, 255, 1)\",\r\n                    \"rgba(255, 159, 64, 1)\",\r\n                    \"rgba(201, 203, 207, 1)\",\r\n                    \"rgba(90, 203, 207, 1)\",\r\n                  ],\r\n                  borderWidth: 1,\r\n                },\r\n              ],\r\n            },\r\n            options: {\r\n              responsive: false, // Tắt responsive để kiểm soát kích thước canvas\r\n              maintainAspectRatio: true,\r\n              aspectRatio: 1, // Tỷ lệ cố định cho pie chart\r\n              plugins: {\r\n                legend: {\r\n                  position: \"right\",\r\n                  labels: {\r\n                    generateLabels: (chart) =>\r\n                      chart.data.labels.map((label, index) => ({\r\n                        text: `${label}`,\r\n                        fillStyle: chart.data.datasets[0].backgroundColor[index],\r\n                      })),\r\n                  },\r\n                },\r\n                datalabels: {\r\n                  color: \"#fff\",\r\n                  font: {\r\n                    size: 12,\r\n                    weight: \"bold\",\r\n                  },\r\n                  formatter: (value) => `${value}`, // Hiển thị số lượng trực tiếp trên biểu đồ\r\n                },\r\n              },\r\n            },\r\n          });\r\n\r\n          setChartInstance(newChart);\r\n        }\r\n      } catch (error) {\r\n        console.error(\"Error fetching or displaying data:\", error);\r\n      }\r\n    };\r\n\r\n    fetchData();\r\n  }, [selectedDate, chartInstance]);\r\n\r\n  const handleChartChange = (type) => {\r\n    if (chartInstance) {\r\n      chartInstance.destroy(); // Hủy biểu đồ cũ\r\n      const ctx = document.getElementById(\"myChart\").getContext(\"2d\");\r\n\r\n      const newChart = new Chart(ctx, {\r\n        type: type, // Đổi loại biểu đồ (pie hoặc bar)\r\n        data: {\r\n          labels: labels.map((label, index) => `${label} (${data[index]})`),\r\n          datasets: [\r\n            {\r\n              label: \"Lượt bán\",\r\n              data: data,\r\n              backgroundColor: [\r\n                \"rgba(255, 99, 132, 0.8)\",\r\n                \"rgba(54, 162, 235, 0.8)\",\r\n                \"rgba(75, 192, 192, 0.8)\",\r\n                \"rgba(255, 206, 86, 0.8)\",\r\n                \"rgba(153, 102, 255, 0.8)\",\r\n                \"rgba(255, 159, 64, 0.8)\",\r\n                \"rgba(201, 203, 207, 0.8)\",\r\n                \"rgba(90, 203, 207, 0.8)\",\r\n              ],\r\n              borderColor: [\r\n                \"rgba(255, 99, 132, 1)\",\r\n                \"rgba(54, 162, 235, 1)\",\r\n                \"rgba(75, 192, 192, 1)\",\r\n                \"rgba(255, 206, 86, 1)\",\r\n                \"rgba(153, 102, 255, 1)\",\r\n                \"rgba(255, 159, 64, 1)\",\r\n                \"rgba(201, 203, 207, 1)\",\r\n                \"rgba(90, 203, 207, 1)\",\r\n              ],\r\n              borderWidth: 1,\r\n            },\r\n          ],\r\n        },\r\n        options: {\r\n          responsive: false, // Tắt responsive\r\n          maintainAspectRatio: true,\r\n          aspectRatio: 1, // Tỷ lệ cố định\r\n          plugins: {\r\n            legend: {\r\n              position: \"right\",\r\n              labels: {\r\n                generateLabels: (chart) =>\r\n                  chart.data.labels.map((label, index) => ({\r\n                    text: `${label}`,\r\n                    fillStyle: chart.data.datasets[0].backgroundColor[index],\r\n                  })),\r\n              },\r\n            },\r\n            datalabels: {\r\n              color: \"#fff\",\r\n              font: {\r\n                size: 12,\r\n                weight: \"bold\",\r\n              },\r\n              formatter: (value) => `${value}`,\r\n            },\r\n          },\r\n        },\r\n      });\r\n\r\n      setChartInstance(newChart);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        padding: 5,\r\n        marginBottom: \"20px\",\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\",\r\n      }}\r\n    >\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          justifyContent: \"space-between\",\r\n          alignItems: \"center\",\r\n          width: \"100%\",\r\n          maxWidth: \"1000px\",\r\n        }}\r\n      >\r\n        <h1\r\n          style={{\r\n            paddingLeft: \"120px\",\r\n            color: \"#27AAE1\",\r\n            fontSize: \"24px\",\r\n            fontWeight: \"bold\",\r\n            textAlign: \"center\",\r\n            textTransform: \"uppercase\",\r\n            flex: 1,\r\n          }}\r\n        >\r\n          Sản phẩm bán chạy trong ứng dụng\r\n        </h1>\r\n\r\n        <div style={{ display: \"flex\", justifyContent: \"center\" }}>\r\n          <input\r\n            type=\"date\"\r\n            value={selectedDate}\r\n            onChange={(e) => setSelectedDate(e.target.value)}\r\n            style={{\r\n              fontSize: \"16px\",\r\n              marginRight: \"10px\",\r\n              padding: \"5px\",\r\n            }}\r\n          />\r\n          <button\r\n            onClick={() => handleChartChange(\"pie\")}\r\n            style={{ fontSize: \"16px\", padding: \"5px 10px\" }}\r\n          >\r\n            Pie Chart\r\n          </button>\r\n          <button\r\n            onClick={() => handleChartChange(\"bar\")}\r\n            style={{ fontSize: \"16px\", padding: \"5px 10px\" }}\r\n          >\r\n            Bar Chart\r\n          </button>\r\n        </div>\r\n      </div>\r\n\r\n      <div\r\n        style={{\r\n          textAlign: \"center\",\r\n          fontSize: \"18px\",\r\n          fontWeight: \"bold\",\r\n          margin: \"10px 0\",\r\n        }}\r\n      >\r\n        {dateRange}\r\n      </div>\r\n      <canvas id=\"myChart\" width=\"400\" height=\"400\"></canvas>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TopProductsChart;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}